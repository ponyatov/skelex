# `.gitignore` и `skip-worktree`

Чтобы в проекте не отслеживались версии файлов, доступны два варианта:

## `.gitignore`

Задаются маски файлов, которые не должны подпадать под [[контроль версий]]

### временные файлы и логи
```
*~
*.swp
*.log
```
### [[doxygen]] 
```
/docs/
```
### всегда включать `.gitignore

для маркировки пустых каталогов -- чтобы пустой каталог попал в проект, в нём обязательно должен быть хотя бы один файл, логично использовать пустой `.gitignore` (иногда применяют `.gitkeep`)

```
!.gitignore
```

- знак `!` отмечает маски которые должны подпадать под контроль, если выше они закрыты какой-то маской
- `/docs/` -> [[doxygen]]
- `*~` и `.swp` создаются редактором [[Vim]]
- логи нужны только в редких случаях (когда фрагменты используются в документации) и должны быть добавлены через [[git/add#-f]]

## [[update-index]]

Можно пометить файлы и каталоги, уже добавленные в проект, чтобы по ним не вёлся контроль изменений:

```Makefile
GITI += doc/obsidian/.obsidian/workspace.json
# GITI += docs
giti:
#	git update-index --no-skip-worktree $(GITI)
	git update-index --skip-worktree $(GITI)
	git ls-files -v|grep obsidian/.obsidian
```

Это может быть полезно в случае, когда вам нужно чтобы в публичном проекте была какая-то определённая версия файла, но его дальнейшие изменения не отображались. Как пример, для [[obsidian/vault]] нужно наличие нескольких файлов в каталоге `doc/obsidian/.obsidian`, но `workspace.json` постоянно переписывается мусорными строками.
