# синтаксический парсер

Обработку грамматики языка программирования выполняет **синтаксический парсер**. 

## `src/skelex.yacc`

Для нашего случая используется генератор [[bison]] -- GNU-аналог широко известного [[yacc]]. Описание грамматики находится в `src/skelex.yacc`.

### общая структура

Структура файла грамматики аналогична [[лексер#общая структура|flex]]:

```Cpp
%{
	// C++ код который будет вставлен в начало сгенерированного кода
%}

%defines %union {}  // опции генератора

%%			// обязательный маркер начала набора правил грамматики
syntax :
	   | syntax expression { /* C++ код */ }
...
```
необязательная часть:
```Cpp
%%			// второй маркер заканчивает блок продукций

// далее идёт произвольный С++ код который будет скопирован в конец
```

### минимальный парсер для пустого синтаксиса

#### `skelex.yacc`

```Cpp
%{
    #include "skelex.hpp"
%}

%defines %union { int n; char* s; }

%%
syntax :
```

####  `skelex.hpp`

```Cpp
/// парсер
extern int yyparse();
/// обработчик синтаксических ошибок
extern void yyerror(string msg);
```

![[файловый ввод]]

### парсер который умеет распознавать символы и числа

```Cpp

```
